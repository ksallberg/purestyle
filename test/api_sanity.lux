[doc]
Sanity check of play API.

Precondition: Apply

```
diff --git a/src/play.erl b/src/play.erl
index 159d61f..fb815ec 100644
--- a/src/play.erl
+++ b/src/play.erl
@@ -34,8 +34,8 @@
 
 -include("common.hrl").
 
-%% -define(SUBMODULE, '*').
--define(SUBMODULE, <<"play">>).
+-define(SUBMODULE, '*').
+%% -define(SUBMODULE, <<"play">>).
```
[enddoc]

[shell brunhilde]
    !rm -rf ../Mnesia.nonode@nohost
    ?SH-PROMPT:

    !make -C ../ start
    ???Listening at port: 8000

[shell api_test]
    # Register
    !curl -d "username=leif&password=kurt" -c - http://localhost:8000/api/register

    ???{"success":"Login OK"}
    ?localhost.*FALSE.*/api/.*FALSE.*username\s*(.*)\n
    [local cookie_username=$1]
    !echo cookie_username

    # Logout, cookie should be reset
    !curl --cookie "username=$cookie_username" -c - http://localhost:8000/api/logout
    ???{"success":"Logout OK"}
    ?localhost\s*FALSE\s*/api/\s*FALSE\s*0\s*username\s*\n

    # Login
    !curl -d "username=leif&password=kurt" -c - http://localhost:8000/api/login
    ???{"success":"Login OK"}

    ?localhost.*FALSE.*/api/.*FALSE.*username\s*(.*)\n
    [local cookie_username=$1]

    !echo cookie_username
    ?SH-PROMPT

    # GET playlists (before creating any)
    !curl --cookie "username=$cookie_username" http://localhost:8000/api/playlists
    ???{"lists":[]}

    # POST playlists (create a playlist)
    !curl --cookie "username=$cookie_username" -d "playlist_name=pl1" http://localhost:8000/api/playlists
    ?{"success":"Playlist created"}

    # GET playlists (after creating)
    !curl --cookie "username=$cookie_username" http://localhost:8000/api/playlists
    ?{"lists":\[{"id":(.*),"name":"pl1"}\]}
    [local playlist_id=$1]

    # GET playlist (when empty)
    !curl --cookie "username=$cookie_username" http://localhost:8000/api/playlist?list=$playlist_id
    ?{"id"\:$playlist_id,"name"\:"pl1","tracks"\:\[\]}

[cleanup]
    !make -C ../ stop
    ?SH-PROMPT:
